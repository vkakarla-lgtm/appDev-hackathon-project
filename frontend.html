<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fantasy Life League</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Space+Mono:ital,wght@0,400;0,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --neon-cyan: #00fff0;
      --neon-cyan-dim: #00b8aa;
      --electric-purple: #bf00ff;
      --neon-pink: #ff00aa;
      --neon-green: #00ff66;
      --neon-yellow: #ffff00;
      --neon-orange: #ff6600;
      --bg-darkest: #0a0a0f;
      --bg-dark: #0f0f1a;
      --bg-card: #14142a;
      --bg-card-hover: #1a1a3a;
      --bg-elevated: #1e1e3f;
      --text-primary: #ffffff;
      --text-secondary: #a0a0c0;
      --text-muted: #606080;
      --gradient-primary: linear-gradient(135deg, var(--neon-cyan), var(--electric-purple));
      --gradient-success: linear-gradient(135deg, var(--neon-green), var(--neon-cyan));
      --font-display: 'Orbitron', sans-serif;
      --font-body: 'Rajdhani', sans-serif;
      --font-mono: 'Space Mono', monospace;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: var(--font-body);
      background: var(--bg-darkest);
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: 
        radial-gradient(ellipse at 20% 20%, rgba(0, 255, 240, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(191, 0, 255, 0.08) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    body::after {
      content: '';
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image: 
        linear-gradient(rgba(0, 255, 240, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 240, 0.02) 1px, transparent 1px);
      background-size: 50px 50px;
      pointer-events: none;
      z-index: -1;
    }

    .container { max-width: 1400px; margin: 0 auto; padding: 0 24px; }

    /* Navigation */
    .navbar {
      background: rgba(10, 10, 15, 0.95);
      border-bottom: 1px solid rgba(0, 255, 240, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    .navbar-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .navbar-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
    }

    .logo-text {
      font-family: var(--font-display);
      font-size: 1.5rem;
      font-weight: 800;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: 0.1em;
    }

    .navbar-links {
      display: flex;
      gap: 4px;
    }

    .nav-link {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 12px;
      border-radius: 8px;
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.15s ease;
      cursor: pointer;
    }

    .nav-link:hover, .nav-link.active {
      color: var(--neon-cyan);
      background: rgba(0, 255, 240, 0.1);
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--bg-card);
      border-radius: 8px;
      border: 1px solid rgba(0, 255, 240, 0.1);
      font-weight: 600;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* Pages Container */
    .page { display: none; padding: 32px 0; min-height: calc(100vh - 80px); }
    .page.active { display: block; animation: fadeIn 0.3s ease; }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* Common Styles */
    h1 {
      font-family: var(--font-display);
      font-size: 2rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    h2 {
      font-family: var(--font-display);
      font-size: 1rem;
      color: var(--neon-cyan);
    }

    .section {
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
      padding: 24px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .section-header h2 {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Buttons */
    .btn {
      font-family: var(--font-display);
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--gradient-primary);
      color: var(--bg-darkest);
      box-shadow: 0 0 20px rgba(0, 255, 240, 0.5);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(0, 255, 240, 0.7);
    }

    .btn-secondary {
      background: transparent;
      color: var(--neon-cyan);
      border: 2px solid var(--neon-cyan);
    }

    .btn-secondary:hover {
      background: rgba(0, 255, 240, 0.1);
    }

    .btn-danger {
      background: linear-gradient(135deg, var(--neon-orange), var(--neon-pink));
      color: white;
    }

    /* Form Elements */
    input, select {
      font-family: var(--font-body);
      font-size: 1rem;
      padding: 12px 16px;
      background: var(--bg-card);
      border: 2px solid var(--bg-elevated);
      border-radius: 8px;
      color: var(--text-primary);
      width: 100%;
      transition: all 0.15s ease;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--neon-cyan);
      box-shadow: 0 0 10px rgba(0, 255, 240, 0.3);
    }

    label {
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--text-secondary);
      display: block;
      margin-bottom: 4px;
    }

    /* Dashboard Styles */
    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 32px;
      gap: 32px;
      flex-wrap: wrap;
    }

    .quick-stats {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .quick-stat {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 20px;
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
    }

    .stat-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      font-size: 1.25rem;
    }

    .stat-info .stat-value {
      font-family: var(--font-display);
      font-size: 1.25rem;
      font-weight: 700;
      display: block;
    }

    .stat-info .stat-label {
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 32px;
    }

    .main-column { display: flex; flex-direction: column; gap: 32px; }
    .sidebar-column { display: flex; flex-direction: column; gap: 24px; }

    /* Habit Form */
    .habit-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }

    .habit-field {
      background: var(--bg-elevated);
      border-radius: 8px;
      padding: 12px;
      border: 1px solid rgba(0, 255, 240, 0.05);
      transition: all 0.15s ease;
    }

    .habit-field:hover, .habit-field:focus-within {
      border-color: var(--accent-color, var(--neon-cyan));
      box-shadow: 0 0 15px color-mix(in srgb, var(--accent-color, var(--neon-cyan)) 20%, transparent);
    }

    .field-header {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 6px;
    }

    .input-wrapper {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .input-wrapper input {
      padding: 8px 12px;
      font-family: var(--font-mono);
      font-size: 1rem;
      font-weight: 700;
      background: var(--bg-card);
      border: 1px solid transparent;
    }

    .input-wrapper .unit {
      font-size: 0.75rem;
      color: var(--text-muted);
      min-width: 40px;
    }

    .submit-btn { width: 100%; }

    /* Coach Tip */
    .coach-tip {
      margin-top: 20px;
      padding: 20px;
      background: linear-gradient(135deg, rgba(0, 255, 240, 0.1), rgba(191, 0, 255, 0.1));
      border: 1px solid rgba(0, 255, 240, 0.2);
      border-radius: 12px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .tip-icon { font-size: 1.5rem; }

    .tip-category {
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--neon-cyan);
      display: block;
      margin-bottom: 4px;
    }

    .tip-content p {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.5;
      margin: 0;
    }

    /* Match Card */
    .match-card {
      background: var(--bg-card);
      border: 2px solid rgba(0, 255, 240, 0.2);
      border-radius: 16px;
      padding: 24px;
      position: relative;
      overflow: hidden;
    }

    .match-card::before {
      content: '';
      position: absolute;
      top: -100%; left: -100%;
      width: 300%; height: 300%;
      background: conic-gradient(from 0deg, transparent, rgba(0, 255, 240, 0.05), transparent, rgba(191, 0, 255, 0.05), transparent);
      animation: rotate 15s linear infinite;
      pointer-events: none;
    }

    @keyframes rotate { to { transform: rotate(360deg); } }

    .match-card > * { position: relative; z-index: 1; }

    .matchup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .week-badge, .status-badge {
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 4px 12px;
      border-radius: 4px;
    }

    .week-badge {
      background: rgba(0, 255, 240, 0.1);
      border: 1px solid var(--neon-cyan);
      color: var(--neon-cyan);
    }

    .status-badge.winning {
      background: rgba(0, 255, 102, 0.2);
      border: 1px solid var(--neon-green);
      color: var(--neon-green);
    }

    .status-badge.losing {
      background: rgba(255, 0, 170, 0.2);
      border: 1px solid var(--neon-pink);
      color: var(--neon-pink);
    }

    .scoreboard {
      display: flex;
      align-items: stretch;
      gap: 20px;
      margin-bottom: 24px;
    }

    .player-score {
      flex: 1;
      text-align: center;
      padding: 20px;
      background: var(--bg-elevated);
      border-radius: 12px;
      border: 2px solid transparent;
    }

    .player-score.leading {
      border-color: var(--neon-green);
      box-shadow: 0 0 20px rgba(0, 255, 102, 0.2);
    }

    .player-score.user {
      background: linear-gradient(135deg, var(--bg-elevated), rgba(0, 255, 240, 0.1));
    }

    .player-score.opponent {
      background: linear-gradient(135deg, var(--bg-elevated), rgba(191, 0, 255, 0.1));
    }

    .player-name {
      display: block;
      font-family: var(--font-display);
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .score {
      display: block;
      font-family: var(--font-display);
      font-size: 2.5rem;
      font-weight: 900;
      line-height: 1;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .player-score.leading .score {
      background: var(--gradient-success);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .score-label {
      display: block;
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-top: 4px;
    }

    .vs-divider {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .vs-divider span {
      font-family: var(--font-display);
      font-size: 0.9rem;
      font-weight: 900;
      color: var(--electric-purple);
      text-shadow: 0 0 10px var(--electric-purple);
    }

    /* Category Breakdown */
    .category-breakdown h4 {
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .categories { display: flex; flex-direction: column; gap: 6px; }

    .category-row {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .category-label {
      display: flex;
      align-items: center;
      gap: 4px;
      min-width: 70px;
    }

    .category-label span {
      font-size: 0.7rem;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
    }

    .category-bar {
      flex: 1;
      display: flex;
      height: 6px;
      background: var(--bg-elevated);
      border-radius: 3px;
      overflow: hidden;
    }

    .bar-fill { height: 100%; transition: width 0.3s ease; }

    .category-scores {
      display: flex;
      gap: 12px;
      min-width: 70px;
      justify-content: space-between;
    }

    .category-scores span {
      font-family: var(--font-mono);
      font-size: 0.7rem;
      color: var(--text-muted);
    }

    .category-scores span.highlight {
      color: var(--neon-green);
      font-weight: 700;
    }

    /* Sidebar Cards */
    .sidebar-card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
      padding: 20px;
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
    }

    .card-header h3 {
      font-family: var(--font-display);
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
    }

    /* League Table */
    .league-table { overflow-x: auto; }

    .league-table table {
      width: 100%;
      border-collapse: collapse;
    }

    .league-table th {
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      text-align: left;
      padding: 12px 16px;
      background: var(--bg-elevated);
      color: var(--neon-cyan);
      border-bottom: 2px solid var(--neon-cyan);
    }

    .league-table td {
      padding: 12px 16px;
      border-bottom: 1px solid rgba(0, 255, 240, 0.05);
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .league-table tr:hover td {
      background: rgba(0, 255, 240, 0.05);
    }

    .league-table tr.current-user {
      background: rgba(0, 255, 240, 0.1);
      border-left: 3px solid var(--neon-cyan);
    }

    .rank-cell { text-align: center; width: 50px; }
    
    .gold { color: #ffd700; }
    .silver { color: #c0c0c0; }
    .bronze { color: #cd7f32; }

    .name-cell {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .you-badge {
      font-family: var(--font-display);
      font-size: 0.55rem;
      font-weight: 700;
      padding: 2px 6px;
      background: var(--gradient-primary);
      border-radius: 4px;
      color: var(--bg-darkest);
    }

    .stat-cell {
      font-family: var(--font-mono);
      font-size: 0.85rem;
      text-align: center;
    }

    .stat-cell.wins { color: var(--neon-green); font-weight: 700; }
    .stat-cell.losses { color: var(--neon-pink); font-weight: 700; }
    .stat-cell.points { color: var(--neon-cyan); font-weight: 700; }

    /* Insights */
    .insights-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 32px;
    }

    .insight-card {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 20px;
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
    }

    .insight-icon {
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-elevated);
      border-radius: 8px;
      font-size: 1.4rem;
    }

    .insight-value {
      font-family: var(--font-display);
      font-size: 1.4rem;
      font-weight: 700;
      display: block;
      text-transform: capitalize;
    }

    .insight-label {
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    /* Rules Page */
    .rules-header {
      text-align: center;
      margin-bottom: 48px;
    }

    .rules-header h1 {
      font-size: 2.5rem;
      display: inline-flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 8px;
    }

    .rules-header p {
      font-size: 1.2rem;
      color: var(--text-secondary);
    }

    .rules-section {
      margin-bottom: 48px;
    }

    .rules-section h2 {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 1.4rem;
      margin-bottom: 24px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0, 255, 240, 0.2);
    }

    .how-it-works-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .step-card {
      display: flex;
      gap: 16px;
      padding: 24px;
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .step-card:hover {
      border-color: rgba(0, 255, 240, 0.3);
      transform: translateY(-4px);
    }

    .step-number {
      flex-shrink: 0;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-display);
      font-size: 1.4rem;
      font-weight: 900;
      background: var(--gradient-primary);
      border-radius: 12px;
      color: var(--bg-darkest);
    }

    .step-content h3 {
      font-family: var(--font-display);
      font-size: 0.95rem;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .step-content p {
      font-size: 0.85rem;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .scoring-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .scoring-card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
      padding: 24px;
      border-left: 4px solid var(--accent-color, var(--neon-cyan));
    }

    .scoring-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .scoring-header h3 {
      font-family: var(--font-display);
      font-size: 1rem;
    }

    .scoring-rules {
      list-style: none;
      padding: 0;
    }

    .scoring-rules li {
      position: relative;
      padding-left: 20px;
      margin-bottom: 8px;
      font-size: 0.85rem;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .scoring-rules li::before {
      content: '‚Üí';
      position: absolute;
      left: 0;
      color: var(--accent-color, var(--neon-cyan));
      font-weight: bold;
    }

    .tips-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 16px;
    }

    .tip-card {
      background: var(--bg-card);
      border: 1px solid rgba(0, 255, 240, 0.1);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .tip-card:hover {
      border-color: rgba(0, 255, 240, 0.3);
      background: var(--bg-card-hover);
    }

    .tip-emoji {
      font-size: 2rem;
      display: block;
      margin-bottom: 8px;
    }

    .tip-card h3 {
      font-family: var(--font-display);
      font-size: 0.8rem;
      margin-bottom: 4px;
    }

    .tip-card p {
      font-size: 0.75rem;
      color: var(--text-muted);
      line-height: 1.4;
    }

    .example-card {
      background: var(--bg-card);
      border: 2px solid rgba(0, 255, 240, 0.2);
      border-radius: 16px;
      padding: 24px;
      max-width: 550px;
      margin: 0 auto;
    }

    .example-card h3 {
      font-family: var(--font-display);
      font-size: 1rem;
      color: var(--neon-cyan);
      text-align: center;
      margin-bottom: 20px;
    }

    .example-table {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .example-row {
      display: grid;
      grid-template-columns: 1fr 1fr 70px;
      gap: 12px;
      padding: 8px 12px;
      background: var(--bg-elevated);
      border-radius: 4px;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    .example-row.header {
      background: var(--bg-darkest);
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-muted);
    }

    .example-row.total {
      background: linear-gradient(135deg, rgba(0, 255, 240, 0.1), rgba(191, 0, 255, 0.1));
      border: 1px solid rgba(0, 255, 240, 0.2);
      font-weight: 700;
      color: var(--text-primary);
    }

    .example-row .points {
      text-align: right;
      font-family: var(--font-mono);
      color: var(--neon-green);
    }

    .example-row.total .points {
      font-size: 1rem;
      color: var(--neon-cyan);
    }

    .example-note {
      margin-top: 16px;
      padding: 12px;
      background: rgba(0, 255, 102, 0.1);
      border: 1px solid rgba(0, 255, 102, 0.2);
      border-radius: 8px;
      font-size: 0.8rem;
      color: var(--neon-green);
      text-align: center;
    }

    /* Toast Notification */
    .toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      padding: 16px 24px;
      background: var(--bg-card);
      border: 2px solid var(--neon-green);
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(0, 255, 102, 0.3);
      z-index: 1000;
      animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
      display: none;
    }

    .toast.show { display: block; }

    .toast.error { border-color: var(--neon-pink); }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeOut {
      to { opacity: 0; transform: translateY(20px); }
    }

    .toast-content {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .toast-icon { font-size: 1.5rem; }

    .toast-message {
      font-size: 0.9rem;
      color: var(--text-primary);
    }

    .toast-points {
      font-family: var(--font-display);
      font-size: 0.75rem;
      color: var(--neon-green);
      margin-top: 4px;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .dashboard-grid { grid-template-columns: 1fr; }
      .insights-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 768px) {
      .dashboard-header { flex-direction: column; }
      .quick-stats { width: 100%; }
      .scoreboard { flex-direction: column; }
      .navbar-links { gap: 2px; }
      .nav-link { padding: 6px 8px; font-size: 0.6rem; }
      .nav-link span { display: none; }
      .insights-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-container">
      <a href="#" class="navbar-logo" onclick="showPage('dashboard'); return false;">
        <span style="color: var(--neon-cyan); font-size: 1.5rem;">‚ö°</span>
        <span class="logo-text">FLL</span>
      </a>
      
      <div class="navbar-links">
        <a class="nav-link active" data-page="dashboard">üè† <span>Dashboard</span></a>
        <a class="nav-link" data-page="league">üèÜ <span>League</span></a>
        <a class="nav-link" data-page="matchup">üéØ <span>Matchup</span></a>
        <a class="nav-link" data-page="insights">üìä <span>Insights</span></a>
        <a class="nav-link" data-page="rules">üìñ <span>Rules</span></a>
      </div>
      
      <div class="user-info" onclick="showPage('profile')" role="button" title="Open profile" style="cursor: pointer;">
        <span style="color: var(--neon-cyan);">üë§</span>
        <span id="userName">Player</span>
      </div>
    </div>
  </nav>

  <!-- Profile Page -->
  <div id="profile" class="page">
    <div class="container">
      <div style="display: flex; justify-content:space-between; align-items:center; margin-bottom:24px;">
        <div>
          <h1 style="display: flex; align-items: center; gap: 16px; margin-bottom: 8px;">
            <span style="color: var(--neon-cyan);">üë§</span>
            <span id="welcomeName">Player</span> <span id="Profile">Profile</span>
          </h1>
        </div>
        
        <div style="display: flex; gap: 16px; align-items: flex-start; flex-wrap: wrap;">
          <div>
            <div style="display: flex; align-items: center; gap: 8px; padding: 8px 16px;">
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-header">
          <h2>Update Your Information</h2>
        </div>
        <form id="profileForm">
          <div style="display: flex; flex-direction: column; gap: 16px;">
            <div>
              <label for="profileName">Name</label>
              <input type="text" id="profileName" placeholder="Enter your name" required>
            </div>
            <div>
              <label for="profileEmail">Email</label>
              <input type="email" id="profileEmail" placeholder="Enter your email" required>
            </div>
            <div>
              <label for="profileAvatar">Avatar URL</label>
              <input type="url" id="profileAvatar" placeholder="Enter avatar image URL">
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast">
    <div class="toast-content">
      <span class="toast-icon">‚úÖ</span>
      <div>
        <div class="toast-message" id="toastMessage">Habits logged successfully!</div>
        <div class="toast-points" id="toastPoints"></div>
      </div>
    </div>
  </div>

  <!-- Dashboard Page -->
  <div id="dashboard" class="page active">
    <div class="container">
      <div class="dashboard-header">
        <div class="welcome-section">
          <h1>Welcome back, <span id="welcomeName">Player</span>!</h1>
          <p style="font-size: 1.1rem; color: var(--text-secondary);">Ready to level up today?</p>
        </div>
        
        <div class="quick-stats">
          <div class="quick-stat">
            <div class="stat-icon" style="background: rgba(255, 102, 0, 0.1);">üî•</div>
            <div class="stat-info">
              <span class="stat-value" style="color: var(--neon-orange);" id="streakValue">0</span>
              <span class="stat-label">Day Streak</span>
            </div>
          </div>
          <div class="quick-stat">
            <div class="stat-icon" style="background: rgba(0, 255, 102, 0.1);">üìà</div>
            <div class="stat-info">
              <span class="stat-value" style="color: var(--neon-green);" id="weekPoints">0.0</span>
              <span class="stat-label">Week Points</span>
            </div>
          </div>
          <div class="quick-stat">
            <div class="stat-icon" style="background: rgba(255, 215, 0, 0.1);">üèÜ</div>
            <div class="stat-info">
              <span class="stat-value" style="color: #ffd700;" id="record">0-0</span>
              <span class="stat-label">Record</span>
            </div>
          </div>
        </div>
      </div>

      <div class="dashboard-grid">
        <div class="main-column">
          <!-- Habit Log Section -->
          <div class="section">
            <div class="section-header">
              <h2>üéØ Log Today's Habits</h2>
              <span id="todayPoints" style="font-family: var(--font-mono); font-size: 0.85rem; padding: 4px 16px; background: rgba(0, 255, 102, 0.1); border: 1px solid var(--neon-green); border-radius: 4px; color: var(--neon-green);">+0.0 pts</span>
            </div>
            
            <div class="habit-grid">
              <div class="habit-field" style="--accent-color: #bf00ff;">
                <div class="field-header">
                  <span style="color: #bf00ff;">üåô</span>
                  <label>Sleep</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="sleep" value="" step="0.5" min="0" max="24" placeholder="7.5">
                  <span class="unit">hours</span>
                </div>
              </div>
              
              <div class="habit-field" style="--accent-color: #00fff0;">
                <div class="field-header">
                  <span style="color: #00fff0;">üìö</span>
                  <label>Study</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="study" value="" step="0.5" min="0" max="24" placeholder="3">
                  <span class="unit">hours</span>
                </div>
              </div>
              
              <div class="habit-field" style="--accent-color: #00ff66;">
                <div class="field-header">
                  <span style="color: #00ff66;">üèãÔ∏è</span>
                  <label>Exercise</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="exercise" value="" step="0.25" min="0" max="8" placeholder="1">
                  <span class="unit">hours</span>
                </div>
              </div>
              
              <div class="habit-field" style="--accent-color: #00b8ff;">
                <div class="field-header">
                  <span style="color: #00b8ff;">üíß</span>
                  <label>Hydration</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="hydration" value="" step="1" min="0" max="20" placeholder="8">
                  <span class="unit">cups</span>
                </div>
              </div>
              
              <div class="habit-field" style="--accent-color: #ff6600;">
                <div class="field-header">
                  <span style="color: #ff6600;">üçé</span>
                  <label>Nutrition</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="nutrition" value="" step="0.1" min="0" max="1" placeholder="0.8">
                  <span class="unit">0-1</span>
                </div>
              </div>
              
              <div class="habit-field" style="--accent-color: #ffff00;">
                <div class="field-header">
                  <span style="color: #ffff00;">üß†</span>
                  <label>Mindfulness</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="mindfulness" value="" step="5" min="0" max="120" placeholder="15">
                  <span class="unit">mins</span>
                </div>
              </div>
              
              <div class="habit-field" style="--accent-color: #ff00aa;">
                <div class="field-header">
                  <span style="color: #ff00aa;">üì±</span>
                  <label>Screen Time</label>
                </div>
                <div class="input-wrapper">
                  <input type="number" id="screentime" value="" step="0.5" min="0" max="24" placeholder="4">
                  <span class="unit">hours</span>
                </div>
              </div>
            </div>
            
            <button class="btn btn-primary submit-btn" onclick="logHabits()">üíæ Log Habits</button>
            
            <div class="coach-tip" id="coachTip" style="display: none;">
              <div class="tip-icon">üí°</div>
              <div class="tip-content">
                <span class="tip-category" id="tipCategory">Tip</span>
                <p id="tipMessage"></p>
              </div>
            </div>
          </div>

          <!-- Matchup Preview -->
          <div class="section">
            <div class="section-header">
              <h2>üèÜ This Week's Matchup</h2>
            </div>
            
            <div class="match-card">
              <div class="matchup-header">
                <span class="week-badge" id="matchWeek">Week 48</span>
                <span style="color: var(--electric-purple); font-size: 1.25rem;">‚öîÔ∏è</span>
                <span class="status-badge winning" id="matchStatus">Winning</span>
              </div>
              
              <div class="scoreboard">
                <div class="player-score user leading" id="userScoreCard">
                  <span class="player-name" id="userMatchName">You</span>
                  <span class="score" id="userScore">0.0</span>
                  <span class="score-label">points</span>
                </div>
                <div class="vs-divider"><span>VS</span></div>
                <div class="player-score opponent" id="oppScoreCard">
                  <span class="player-name" id="oppName">Opponent</span>
                  <span class="score" id="oppScore">0.0</span>
                  <span class="score-label">points</span>
                </div>
              </div>
              
              <div class="category-breakdown">
                <h4>Category Breakdown</h4>
                <div class="categories" id="categoryBreakdown">
                  <!-- Populated by JS -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="sidebar-column">
          <div class="sidebar-card">
            <div class="card-header">
              <span style="color: var(--neon-cyan);">üí°</span>
              <h3>Quick Tips</h3>
            </div>
            <div style="display: flex; flex-direction: column; gap: 12px;" id="insightsList">
              <div style="padding: 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-pink);">
                <span style="font-size: 0.6rem; color: var(--text-muted); text-transform: uppercase;">Sleep</span>
                <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 2px;">Aim for 7-9 hours for optimal points!</p>
              </div>
              <div style="padding: 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-yellow);">
                <span style="font-size: 0.6rem; color: var(--text-muted); text-transform: uppercase;">Exercise</span>
                <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 2px;">Exercise gives 2x points per hour!</p>
              </div>
            </div>
          </div>
          
          <div class="sidebar-card">
            <div class="card-header">
              <span style="color: var(--neon-cyan);">üìä</span>
              <h3 id="weekOverviewTitle">Week Overview</h3>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
              <div style="padding: 12px; background: var(--bg-elevated); border-radius: 8px; text-align: center;">
                <span style="font-size: 0.6rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Days Logged</span>
                <span style="font-family: var(--font-display); font-size: 1.3rem; font-weight: 700;" id="daysLogged">0/7</span>
              </div>
              <div style="padding: 12px; background: var(--bg-elevated); border-radius: 8px; text-align: center;">
                <span style="font-size: 0.6rem; color: var(--text-muted); display: block; margin-bottom: 4px;">Total Points</span>
                <span style="font-family: var(--font-display); font-size: 1.3rem; font-weight: 700; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent;" id="totalWeekPts">0.0</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- League Page -->
  <div id="league" class="page">
    <div class="container">
      <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 32px; flex-wrap: wrap; gap: 20px;">
        <div>
          <h1 style="display: flex; align-items: center; gap: 16px; margin-bottom: 8px;">
            <span style="filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));">üèÜ</span>
            <span id="leagueName">Fantasy Life League</span>
          </h1>
          <div style="display: flex; gap: 24px; color: var(--text-muted); font-size: 0.9rem;">
            <span id="playerCount">üë• 0/10 Players</span>
            <span>üìÖ 30 Week Season</span>
          </div>
        </div>
        
        <div style="display: flex; gap: 16px; align-items: flex-start; flex-wrap: wrap;">
          <div>
            <span style="font-family: var(--font-display); font-size: 0.6rem; color: var(--text-muted); letter-spacing: 0.15em; display: block; margin-bottom: 4px;">INVITE CODE</span>
            <div style="display: flex; align-items: center; gap: 8px; padding: 8px 16px; background: var(--bg-card); border: 1px solid rgba(0, 255, 240, 0.2); border-radius: 8px;">
              <span style="font-family: var(--font-mono); font-size: 1rem; font-weight: 700; letter-spacing: 0.15em; color: var(--neon-cyan);" id="inviteCode">--------</span>
              <button onclick="copyCode()" style="background: transparent; border: 1px solid rgba(0, 255, 240, 0.3); border-radius: 4px; color: var(--neon-cyan); padding: 4px 8px; cursor: pointer;">üìã</button>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 style="margin-bottom: 20px;">League Standings</h2>
        <div class="league-table">
          <table>
            <thead>
              <tr>
                <th>Rank</th>
                <th>Player</th>
                <th>W</th>
                <th>L</th>
                <th>Points</th>
                <th>This Week</th>
              </tr>
            </thead>
            <tbody id="standingsBody">
              <!-- Populated by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Matchup Page -->
  <div id="matchup" class="page">
    <div class="container">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; flex-wrap: wrap; gap: 16px;">
        <h1 style="display: flex; align-items: center; gap: 16px;">
          <span style="color: var(--electric-purple); filter: drop-shadow(0 0 10px var(--electric-purple));">‚öîÔ∏è</span>
          Weekly Matchup
        </h1>
        <div style="display: flex; align-items: center; gap: 8px; padding: 8px 20px; background: var(--bg-card); border: 1px solid rgba(0, 255, 240, 0.2); border-radius: 8px; color: var(--neon-cyan);">
          <span>üìÖ</span>
          <span style="font-family: var(--font-display); font-size: 0.8rem; font-weight: 600;" id="matchupWeekDisplay">Week 48</span>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 320px; gap: 32px;">
        <div class="match-card" id="fullMatchCard">
          <!-- Same as dashboard matchup card, populated by JS -->
        </div>

        <div style="display: flex; flex-direction: column; gap: 20px;">
          <div class="sidebar-card">
            <div class="card-header">
              <span style="color: var(--neon-cyan);">üèÜ</span>
              <h3>Match History</h3>
            </div>
            <div style="display: flex; flex-direction: column; gap: 8px;" id="matchHistory">
              <!-- Populated by JS -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Insights Page -->
  <div id="insights" class="page">
    <div class="container">
      <div style="margin-bottom: 32px;">
        <h1 style="display: flex; align-items: center; gap: 16px; margin-bottom: 8px;">
          <span style="color: var(--neon-cyan); filter: drop-shadow(0 0 10px var(--neon-cyan));">üìä</span>
          Your Insights
        </h1>
        <p style="font-size: 1.1rem; color: var(--text-secondary);">Track your progress and discover patterns</p>
      </div>

      <div class="insights-grid">
        <div class="insight-card">
          <div class="insight-icon" style="background: rgba(255, 102, 0, 0.1);">üî•</div>
          <div>
            <span class="insight-value" style="color: var(--neon-orange);" id="insightStreak">0</span>
            <span class="insight-label">Day Streak</span>
          </div>
        </div>
        <div class="insight-card">
          <div class="insight-icon" style="background: rgba(0, 255, 102, 0.1);">üéØ</div>
          <div>
            <span class="insight-value" style="color: var(--neon-green);" id="insightDays">0</span>
            <span class="insight-label">Days Logged (30d)</span>
          </div>
        </div>
        <div class="insight-card">
          <div class="insight-icon" style="background: rgba(0, 255, 102, 0.1);">üèÜ</div>
          <div>
            <span class="insight-value" style="color: var(--neon-green);" id="bestHabit">-</span>
            <span class="insight-label">Best Habit</span>
          </div>
        </div>
        <div class="insight-card">
          <div class="insight-icon" style="background: rgba(255, 0, 170, 0.1);">‚ö†Ô∏è</div>
          <div>
            <span class="insight-value" style="color: var(--neon-pink);" id="worstHabit">-</span>
            <span class="insight-label">Needs Work</span>
          </div>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px;">
        <div class="section">
          <h2 style="margin-bottom: 20px;">30-Day Averages</h2>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;" id="averagesGrid">
            <!-- Populated by JS -->
          </div>
        </div>

        <div class="section">
          <h2 style="margin-bottom: 20px;">Recommendations</h2>
          <div style="display: flex; flex-direction: column; gap: 12px;" id="recommendations">
            <!-- Populated by JS -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Rules Page -->
  <div id="rules" class="page">
    <div class="container">
      <div class="rules-header">
        <h1>
          <span style="color: var(--neon-cyan);">üìñ</span>
          Rules & Scoring
        </h1>
        <p>Everything you need to know to dominate your league</p>
      </div>

      <section class="rules-section">
        <h2>‚ö° How It Works</h2>
        <div class="how-it-works-grid">
          <div class="step-card">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>Join or Create a League</h3>
              <p>Create a new league and share the invite code with friends, or join an existing league. Each league has up to 10 players.</p>
            </div>
          </div>
          <div class="step-card">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>Log Your Daily Habits</h3>
              <p>Every day, log your sleep, study time, exercise, hydration, and more. Consistency is key!</p>
            </div>
          </div>
          <div class="step-card">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>Compete in Weekly Matchups</h3>
              <p>Each week, you face another player. Your total habit points determine the winner.</p>
            </div>
          </div>
          <div class="step-card">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>Climb the Standings</h3>
              <p>Win matchups to improve your record. Best record after 30 weeks wins the season!</p>
            </div>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>üéØ Scoring System</h2>
        <div class="scoring-grid">
          <div class="scoring-card" style="--accent-color: #bf00ff;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üåô</span>
              <h3>Sleep</h3>
            </div>
            <ul class="scoring-rules">
              <li>Full points for 7-9 hours</li>
              <li>Less than 7 hours: 80% of hours</li>
              <li>Over 9 hours: slight penalty</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 8 hrs = 8 pts</li>
            </ul>
          </div>
          <div class="scoring-card" style="--accent-color: #00fff0;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üìö</span>
              <h3>Study</h3>
            </div>
            <ul class="scoring-rules">
              <li>1 point per hour</li>
              <li>Capped at 1.5x daily goal</li>
              <li>Focused time only</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 3 hrs = 3 pts</li>
            </ul>
          </div>
          <div class="scoring-card" style="--accent-color: #00ff66;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üèãÔ∏è</span>
              <h3>Exercise</h3>
            </div>
            <ul class="scoring-rules">
              <li>2 points per hour (2x!)</li>
              <li>Any physical activity counts</li>
              <li>Walking, gym, sports, etc.</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 1 hr = 2 pts</li>
            </ul>
          </div>
          <div class="scoring-card" style="--accent-color: #00b8ff;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üíß</span>
              <h3>Hydration</h3>
            </div>
            <ul class="scoring-rules">
              <li>0.5 points per cup</li>
              <li>+2 bonus for hitting goal</li>
              <li>Goal: 8 cups per day</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 8 cups = 6 pts</li>
            </ul>
          </div>
          <div class="scoring-card" style="--accent-color: #ff6600;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üçé</span>
              <h3>Nutrition</h3>
            </div>
            <ul class="scoring-rules">
              <li>Rate 0-1 (poor to excellent)</li>
              <li>Score √ó 5 = points</li>
              <li>Be honest with yourself!</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 0.8 = 4 pts</li>
            </ul>
          </div>
          <div class="scoring-card" style="--accent-color: #ffff00;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üß†</span>
              <h3>Mindfulness</h3>
            </div>
            <ul class="scoring-rules">
              <li>0.1 points per minute</li>
              <li>Capped at 3 pts (30 min)</li>
              <li>Meditation, journaling, etc.</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 15 min = 1.5 pts</li>
            </ul>
          </div>
          <div class="scoring-card" style="--accent-color: #ff00aa;">
            <div class="scoring-header">
              <span style="font-size: 1.5rem;">üì±</span>
              <h3>Screen Time</h3>
            </div>
            <ul class="scoring-rules">
              <li>No penalty ‚â§ 4 hours</li>
              <li>-0.5 pts per hour over 4</li>
              <li>Recreational use only</li>
              <li style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 8px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">Example: 6 hrs = -1 pt</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>üìà Tips for Success</h2>
        <div class="tips-grid">
          <div class="tip-card">
            <span class="tip-emoji">üéØ</span>
            <h3>Be Consistent</h3>
            <p>Log habits daily. Small entries add up!</p>
          </div>
          <div class="tip-card">
            <span class="tip-emoji">üò¥</span>
            <h3>Prioritize Sleep</h3>
            <p>7-9 hours = maximum points</p>
          </div>
          <div class="tip-card">
            <span class="tip-emoji">üèÉ</span>
            <h3>Exercise Pays</h3>
            <p>2x points make it worthwhile!</p>
          </div>
          <div class="tip-card">
            <span class="tip-emoji">üíß</span>
            <h3>Hit Goals</h3>
            <p>Bonus points for meeting targets</p>
          </div>
          <div class="tip-card">
            <span class="tip-emoji">üì±</span>
            <h3>Limit Screens</h3>
            <p>Under 4 hrs avoids penalties</p>
          </div>
          <div class="tip-card">
            <span class="tip-emoji">üìä</span>
            <h3>Check Insights</h3>
            <p>Identify weak spots to improve</p>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>üìù Example Day</h2>
        <div class="example-card">
          <h3>Sample Day Calculation</h3>
          <div class="example-table">
            <div class="example-row header">
              <span>Category</span>
              <span>Logged</span>
              <span>Points</span>
            </div>
            <div class="example-row">
              <span>üåô Sleep</span>
              <span>7.5 hours</span>
              <span class="points">+7.5</span>
            </div>
            <div class="example-row">
              <span>üìö Study</span>
              <span>3 hours</span>
              <span class="points">+3.0</span>
            </div>
            <div class="example-row">
              <span>üèãÔ∏è Exercise</span>
              <span>1 hour</span>
              <span class="points">+2.0</span>
            </div>
            <div class="example-row">
              <span>üíß Hydration</span>
              <span>8 cups ‚úì</span>
              <span class="points">+6.0</span>
            </div>
            <div class="example-row">
              <span>üçé Nutrition</span>
              <span>0.8</span>
              <span class="points">+4.0</span>
            </div>
            <div class="example-row">
              <span>üß† Mindfulness</span>
              <span>15 mins</span>
              <span class="points">+1.5</span>
            </div>
            <div class="example-row">
              <span>üì± Screen</span>
              <span>3 hours</span>
              <span class="points">+0.0</span>
            </div>
            <div class="example-row total">
              <span>TOTAL</span>
              <span></span>
              <span class="points">24.0 pts</span>
            </div>
          </div>
          <p class="example-note">Great day! ~168 points/week at this pace. üî•</p>
        </div>
      </section>
    </div>
  </div>

  <script>
    // App State
    let state = {
      user: { name: 'Player', wins: 0, losses: 0 },
      habits: {},
      weekPoints: 0,
      daysLogged: 0,
      streak: 0,
      league: {
        name: 'Fantasy Life League',
        code: 'FLL2025',
        players: []
      },
      matchup: {
        week: 48,
        opponent: 'Opponent',
        userScore: 0,
        oppScore: 0,
        categories: {}
      }
    };

    // Load from localStorage
    function loadState() {
      const saved = localStorage.getItem('fllState');
      if (saved) {
        state = { ...state, ...JSON.parse(saved) };
      }
      // Initialize players if empty
      if (state.league.players.length === 0) {
        state.league.players = [
          { name: state.user.name, wins: state.user.wins, losses: state.user.losses, points: state.weekPoints * 7, weekPts: state.weekPoints, isUser: true },
        ];
      }
      updateUI();
    }

    // Save to localStorage
    function saveState() {
      localStorage.setItem('fllState', JSON.stringify(state));
    }

    // Calculate points from habit entry
    function calculatePoints(habits) {
      let points = 0;
      
      // Sleep
      const sleep = parseFloat(habits.sleep) || 0;
      if (sleep >= 7 && sleep <= 9) points += sleep;
      else if (sleep > 9) points += 9 - (sleep - 9) * 0.5;
      else points += sleep * 0.8;
      
      // Study
      points += Math.min(parseFloat(habits.study) || 0, 4.5);
      
      // Exercise (2x)
      points += (parseFloat(habits.exercise) || 0) * 2;
      
      // Hydration
      const hydration = parseFloat(habits.hydration) || 0;
      points += hydration * 0.5;
      if (hydration >= 8) points += 2;
      
      // Nutrition
      points += (parseFloat(habits.nutrition) || 0) * 5;
      
      // Mindfulness
      points += Math.min((parseFloat(habits.mindfulness) || 0) * 0.1, 3);
      
      // Screen time penalty
      const screen = parseFloat(habits.screentime) || 0;
      if (screen > 4) points -= (screen - 4) * 0.5;
      
      return Math.max(0, Math.round(points * 10) / 10);
    }

    // Log habits
    function logHabits() {
      const habits = {
        sleep: document.getElementById('sleep').value,
        study: document.getElementById('study').value,
        exercise: document.getElementById('exercise').value,
        hydration: document.getElementById('hydration').value,
        nutrition: document.getElementById('nutrition').value,
        mindfulness: document.getElementById('mindfulness').value,
        screentime: document.getElementById('screentime').value
      };
      
      // Check if any value entered
      if (!Object.values(habits).some(v => v)) {
        showToast('Please enter at least one habit!', true);
        return;
      }
      
      const points = calculatePoints(habits);
      state.habits = habits;
      state.weekPoints += points;
      state.daysLogged = Math.min(7, state.daysLogged + 1);
      state.streak++;
      state.matchup.userScore += points;
      
      // Update user in league
      const userPlayer = state.league.players.find(p => p.isUser);
      if (userPlayer) {
        userPlayer.weekPts = state.matchup.userScore;
        userPlayer.points += points;
      }
      
      // Show coach tip
      showCoachTip(habits);
      
      saveState();
      updateUI();
      showToast(`Habits logged! +${points} points`, false, points);
    }

    // Show coach tip based on habits
    function showCoachTip(habits) {
      const tips = {
        sleep: {
          low: "Sleep debt is real! Getting less than 7 hours can impair memory and decision-making.",
          good: "Great sleep! Quality rest boosts learning and memory consolidation."
        },
        exercise: {
          low: "Even a 10-minute walk can boost creativity and reduce stress!",
          good: "Excellent workout! Exercise releases BDNF, which helps grow new brain cells."
        },
        hydration: {
          low: "Mild dehydration can reduce concentration by 25%!",
          good: "Well hydrated! Water keeps your brain functioning optimally."
        }
      };
      
      let category, message;
      const sleep = parseFloat(habits.sleep) || 0;
      const exercise = parseFloat(habits.exercise) || 0;
      const hydration = parseFloat(habits.hydration) || 0;
      
      if (sleep < 7 && sleep > 0) {
        category = 'Sleep';
        message = tips.sleep.low;
      } else if (exercise < 0.5) {
        category = 'Exercise';
        message = tips.exercise.low;
      } else if (hydration < 6 && hydration > 0) {
        category = 'Hydration';
        message = tips.hydration.low;
      } else if (sleep >= 7) {
        category = 'Sleep';
        message = tips.sleep.good;
      } else if (exercise >= 0.5) {
        category = 'Exercise';
        message = tips.exercise.good;
      } else {
        category = 'General';
        message = 'Consistency beats intensity - small daily habits compound into big results!';
      }
      
      document.getElementById('tipCategory').textContent = category;
      document.getElementById('tipMessage').textContent = message;
      document.getElementById('coachTip').style.display = 'flex';
    }

    // Show toast notification
    function showToast(message, isError = false, points = null) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');
      const toastPoints = document.getElementById('toastPoints');
      const toastIcon = toast.querySelector('.toast-icon');
      
      toastMessage.textContent = message;
      toastIcon.textContent = isError ? '‚ùå' : '‚úÖ';
      toastPoints.textContent = points ? `+${points} points earned!` : '';
      toast.className = isError ? 'toast show error' : 'toast show';
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Copy invite code
    function copyCode() {
      navigator.clipboard.writeText(state.league.code);
      showToast('Invite code copied!');
    }

    // Update all UI elements
    function updateUI() {
      // User name
      document.getElementById('userName').textContent = state.user.name;
      document.getElementById('welcomeName').textContent = state.user.name.split(' ')[0];
      
      // Quick stats
      document.getElementById('streakValue').textContent = state.streak;
      document.getElementById('weekPoints').textContent = state.matchup.userScore.toFixed(1);
      document.getElementById('record').textContent = `${state.user.wins}-${state.user.losses}`;
      
      // Today's points
      document.getElementById('todayPoints').textContent = `+${state.weekPoints.toFixed(1)} pts`;
      
      // Week overview
      document.getElementById('daysLogged').textContent = `${state.daysLogged}/7`;
      document.getElementById('totalWeekPts').textContent = state.matchup.userScore.toFixed(1);
      
      // Matchup
      updateMatchup();
      
      // League
      updateLeague();
      
      // Insights
      updateInsights();
    }

    // Update matchup display
    function updateMatchup() {
      const isWinning = state.matchup.userScore > state.matchup.oppScore;
      
      document.getElementById('matchWeek').textContent = `Week ${state.matchup.week}`;
      document.getElementById('matchupWeekDisplay').textContent = `Week ${state.matchup.week}`;
      document.getElementById('matchStatus').textContent = isWinning ? 'Winning' : 'Losing';
      document.getElementById('matchStatus').className = `status-badge ${isWinning ? 'winning' : 'losing'}`;
      
      document.getElementById('userMatchName').textContent = state.user.name;
      document.getElementById('userScore').textContent = state.matchup.userScore.toFixed(1);
      document.getElementById('oppName').textContent = state.matchup.opponent;
      document.getElementById('oppScore').textContent = state.matchup.oppScore.toFixed(1);
      
      const userCard = document.getElementById('userScoreCard');
      const oppCard = document.getElementById('oppScoreCard');
      userCard.className = `player-score user ${isWinning ? 'leading' : ''}`;
      oppCard.className = `player-score opponent ${!isWinning ? 'leading' : ''}`;
      
      // Category breakdown
      const categories = [
        { name: 'Sleep', icon: 'üåô', color: '#bf00ff', user: 14, opp: 11.5 },
        { name: 'Study', icon: 'üìö', color: '#00fff0', user: 12, opp: 8 },
        { name: 'Exercise', icon: 'üèãÔ∏è', color: '#00ff66', user: 6, opp: 9 },
        { name: 'Hydration', icon: 'üíß', color: '#00b8ff', user: 8.5, opp: 7.5 },
        { name: 'Nutrition', icon: 'üçé', color: '#ff6600', user: 4, opp: 4.5 },
        { name: 'Mind', icon: 'üß†', color: '#ffff00', user: 3, opp: 1.5 }
      ];
      
      const breakdown = document.getElementById('categoryBreakdown');
      breakdown.innerHTML = categories.map(cat => {
        const total = cat.user + cat.opp || 1;
        const userWidth = (cat.user / total) * 100;
        const winning = cat.user > cat.opp;
        return `
          <div class="category-row">
            <div class="category-label">
              <span style="color: ${cat.color}">${cat.icon}</span>
              <span>${cat.name}</span>
            </div>
            <div class="category-bar">
              <div class="bar-fill" style="width: ${userWidth}%; background: ${winning ? cat.color : 'var(--text-muted)'};"></div>
              <div class="bar-fill" style="width: ${100 - userWidth}%; background: ${!winning ? cat.color : 'var(--text-muted)'};"></div>
            </div>
            <div class="category-scores">
              <span class="${winning ? 'highlight' : ''}">${cat.user.toFixed(1)}</span>
              <span class="${!winning && cat.opp > cat.user ? 'highlight' : ''}">${cat.opp.toFixed(1)}</span>
            </div>
          </div>
        `;
      }).join('');
      
      // Full matchup card on matchup page
      const fullCard = document.getElementById('fullMatchCard');
      if (fullCard) {
        fullCard.innerHTML = `
          <div class="matchup-header">
            <span class="week-badge">Week ${state.matchup.week}</span>
            <span style="color: var(--electric-purple); font-size: 1.25rem;">‚öîÔ∏è</span>
            <span class="status-badge ${isWinning ? 'winning' : 'losing'}">${isWinning ? 'Winning' : 'Losing'}</span>
          </div>
          <div class="scoreboard">
            <div class="player-score user ${isWinning ? 'leading' : ''}">
              <span class="player-name">${state.user.name}</span>
              <span class="score">${state.matchup.userScore.toFixed(1)}</span>
              <span class="score-label">points</span>
            </div>
            <div class="vs-divider"><span>VS</span></div>
            <div class="player-score opponent ${!isWinning ? 'leading' : ''}">
              <span class="player-name">${state.matchup.opponent}</span>
              <span class="score">${state.matchup.oppScore.toFixed(1)}</span>
              <span class="score-label">points</span>
            </div>
          </div>
          <div class="category-breakdown">
            <h4>Category Breakdown</h4>
            <div class="categories">${breakdown.innerHTML}</div>
          </div>
        `;
      }
      
      // Match history
      const history = document.getElementById('matchHistory');
      if (history) {
        history.innerHTML = `
          <div style="display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-green);">
            <span style="font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-muted); min-width: 45px;">Wk 47</span>
            <span style="color: var(--neon-green); font-weight: 700; font-size: 0.8rem;">‚úì W</span>
            <span style="flex: 1; font-size: 0.75rem; color: var(--text-secondary);">vs Sarah</span>
            <span style="font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">52-48</span>
          </div>
          <div style="display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-pink);">
            <span style="font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-muted); min-width: 45px;">Wk 46</span>
            <span style="color: var(--neon-pink); font-weight: 700; font-size: 0.8rem;">‚úó L</span>
            <span style="flex: 1; font-size: 0.75rem; color: var(--text-secondary);">vs Mike</span>
            <span style="font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">41-45</span>
          </div>
          <div style="display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-green);">
            <span style="font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-muted); min-width: 45px;">Wk 45</span>
            <span style="color: var(--neon-green); font-weight: 700; font-size: 0.8rem;">‚úì W</span>
            <span style="flex: 1; font-size: 0.75rem; color: var(--text-secondary);">vs Riley</span>
            <span style="font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-muted);">55-32</span>
          </div>
        `;
      }
    }

    // Update league display
    function updateLeague() {
      document.getElementById('leagueName').textContent = state.league.name;
      document.getElementById('inviteCode').textContent = state.league.code;
      document.getElementById('playerCount').textContent = `üë• ${state.league.players.length}/10 Players`;
      
      // Demo players for standings
      const demoPlayers = [
        { name: 'Sarah', wins: 6, losses: 1, points: 342.5, weekPts: 52 },
        { name: state.user.name, wins: state.user.wins, losses: state.user.losses, points: 318 + state.matchup.userScore, weekPts: state.matchup.userScore, isUser: true },
        { name: 'Mike', wins: 5, losses: 2, points: 305, weekPts: 45 },
        { name: state.matchup.opponent, wins: 4, losses: 3, points: 289.5, weekPts: state.matchup.oppScore },
        { name: 'Jordan', wins: 4, losses: 3, points: 275, weekPts: 38.5 },
        { name: 'Taylor', wins: 3, losses: 4, points: 260, weekPts: 35 },
        { name: 'Casey', wins: 2, losses: 5, points: 245.5, weekPts: 32 },
        { name: 'Riley', wins: 1, losses: 6, points: 220, weekPts: 28.5 }
      ].sort((a, b) => b.wins - a.wins || b.points - a.points);
      
      const tbody = document.getElementById('standingsBody');
      tbody.innerHTML = demoPlayers.map((p, i) => {
        const rankIcon = i === 0 ? '<span class="gold">üèÜ</span>' : i === 1 ? '<span class="silver">ü•à</span>' : i === 2 ? '<span class="bronze">ü•â</span>' : `<span style="font-family: var(--font-mono); color: var(--text-muted);">${i + 1}</span>`;
        return `
          <tr class="${p.isUser ? 'current-user' : ''}">
            <td class="rank-cell">${rankIcon}</td>
            <td class="name-cell"><span>${p.name}</span>${p.isUser ? '<span class="you-badge">You</span>' : ''}</td>
            <td class="stat-cell wins">${p.wins}</td>
            <td class="stat-cell losses">${p.losses}</td>
            <td class="stat-cell points">${p.points.toFixed(1)}</td>
            <td class="stat-cell">${p.weekPts.toFixed(1)}</td>
          </tr>
        `;
      }).join('');
    }

    // Update insights
    function updateInsights() {
      document.getElementById('insightStreak').textContent = state.streak;
      document.getElementById('insightDays').textContent = state.daysLogged;
      
      // Determine best/worst habits based on logged data
      const habits = state.habits;
      let best = '-', worst = '-';
      if (habits.sleep) {
        const sleep = parseFloat(habits.sleep);
        if (sleep >= 7) best = 'Sleep';
        else worst = 'Sleep';
      }
      if (habits.exercise && parseFloat(habits.exercise) < 0.5) worst = 'Exercise';
      else if (habits.exercise) best = 'Exercise';
      
      document.getElementById('bestHabit').textContent = best;
      document.getElementById('worstHabit').textContent = worst || 'Exercise';
      
      // Averages
      const avgGrid = document.getElementById('averagesGrid');
      const avgs = [
        { name: 'Sleep', icon: 'üåô', color: '#bf00ff', value: habits.sleep || 7.2, goal: 8 },
        { name: 'Study', icon: 'üìö', color: '#00fff0', value: habits.study || 2.8, goal: 3 },
        { name: 'Exercise', icon: 'üèãÔ∏è', color: '#00ff66', value: habits.exercise || 0.6, goal: 1 },
        { name: 'Hydration', icon: 'üíß', color: '#00b8ff', value: habits.hydration || 6.5, goal: 8 }
      ];
      
      avgGrid.innerHTML = avgs.map(a => {
        const pct = Math.min(100, (parseFloat(a.value) / a.goal) * 100);
        return `
          <div style="padding: 12px; background: var(--bg-elevated); border-radius: 8px;">
            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 6px;">
              <span style="color: ${a.color}">${a.icon}</span>
              <span style="font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase;">${a.name}</span>
            </div>
            <div style="font-family: var(--font-display); font-size: 1.5rem; font-weight: 700; color: ${a.color};">${parseFloat(a.value).toFixed(1)}</div>
            <div style="height: 4px; background: var(--bg-darkest); border-radius: 2px; margin-top: 6px;">
              <div style="height: 100%; width: ${pct}%; background: ${a.color}; border-radius: 2px;"></div>
            </div>
            <span style="font-size: 0.6rem; color: var(--text-muted);">${pct.toFixed(0)}% of goal</span>
          </div>
        `;
      }).join('');
      
      // Recommendations
      const recs = document.getElementById('recommendations');
      recs.innerHTML = `
        <div style="display: flex; gap: 12px; padding: 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-pink);">
          <span style="color: #00ff66;">üèãÔ∏è</span>
          <div style="flex: 1;">
            <span style="font-size: 0.6rem; color: var(--text-muted); text-transform: uppercase;">Exercise</span>
            <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 2px;">Aim for at least 30 mins daily for bonus points!</p>
          </div>
          <span style="font-family: var(--font-mono); font-size: 0.55rem; padding: 2px 6px; background: rgba(255, 0, 170, 0.2); color: var(--neon-pink); border-radius: 4px; height: fit-content;">HIGH</span>
        </div>
        <div style="display: flex; gap: 12px; padding: 12px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--neon-yellow);">
          <span style="color: #00b8ff;">üíß</span>
          <div style="flex: 1;">
            <span style="font-size: 0.6rem; color: var(--text-muted); text-transform: uppercase;">Hydration</span>
            <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 2px;">Hit 8 cups to unlock the +2 bonus!</p>
          </div>
          <span style="font-family: var(--font-mono); font-size: 0.55rem; padding: 2px 6px; background: rgba(255, 255, 0, 0.2); color: var(--neon-yellow); border-radius: 4px; height: fit-content;">MED</span>
        </div>
      `;
    }

    // Page navigation
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
      
      document.getElementById(pageId).classList.add('active');
      document.querySelector(`[data-page="${pageId}"]`).classList.add('active');
    }

    // Nav link handlers
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        showPage(link.dataset.page);
      });
    });

    // Initial prompt for name
    function promptForName() {
      const name = prompt('Welcome to Fantasy Life League! Enter your name:');
      if (name && name.trim()) {
        state.user.name = name.trim();
        state.matchup.opponent = 'Alex'; // Default opponent
        state.matchup.oppScore = 42; // Starting opponent score
        saveState();
        updateUI();
      }
    }

    // Initialize
    loadState();
    if (state.user.name === 'Player') {
      setTimeout(promptForName, 500);
    }

  </script>
</body>
</html>